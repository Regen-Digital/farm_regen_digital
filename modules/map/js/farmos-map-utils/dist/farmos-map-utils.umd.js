(function(f){typeof define=="function"&&define.amd?define(f):f()})(function(){"use strict";var f={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},c={};c[f.RADIANS]=6370997/(2*Math.PI),c[f.DEGREES]=2*Math.PI*6370997/360,c[f.FEET]=.3048,c[f.METERS]=1,c[f.USFEET]=1200/3937;var _=f,x=function(){function t(n){this.code_=n.code,this.units_=n.units,this.extent_=n.extent!==void 0?n.extent:null,this.worldExtent_=n.worldExtent!==void 0?n.worldExtent:null,this.axisOrientation_=n.axisOrientation!==void 0?n.axisOrientation:"enu",this.global_=n.global!==void 0?n.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=n.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=n.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||c[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(n){this.global_=n,this.canWrapX_=!!(n&&this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(n){this.defaultTileGrid_=n},t.prototype.setExtent=function(n){this.extent_=n,this.canWrapX_=!!(this.global_&&n)},t.prototype.setWorldExtent=function(n){this.worldExtent_=n},t.prototype.setGetPointResolution=function(n){this.getPointResolutionFunc_=n},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),w=x,C=function(){var t;return"cosh"in Math?t=Math.cosh:t=function(n){var r=Math.exp(n);return(r+1/r)/2},t}(),I=globalThis&&globalThis.__extends||function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])},t(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(n,r);function e(){this.constructor=n}n.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}(),E=6378137,l=Math.PI*E,U=[-l,-l,l,l],A=[-180,-85,180,85],g=E*Math.log(Math.tan(Math.PI/2)),h=function(t){I(n,t);function n(r){return t.call(this,{code:r,units:_.METERS,extent:U,global:!0,worldExtent:A,getPointResolution:function(e,o){return e/C(o[1]/E)}})||this}return n}(w),S=[new h("EPSG:3857"),new h("EPSG:102100"),new h("EPSG:102113"),new h("EPSG:900913"),new h("http://www.opengis.net/def/crs/EPSG/0/3857"),new h("http://www.opengis.net/gml/srs/epsg.xml#3857")];function F(t,n,r){var e=t.length,o=r>1?r:2,i=n;i===void 0&&(o>2?i=t.slice():i=new Array(e));for(var a=0;a<e;a+=o){i[a]=l*t[a]/180;var u=E*Math.log(Math.tan(Math.PI*(+t[a+1]+90)/360));u>g?u=g:u<-g&&(u=-g),i[a+1]=u}return i}function X(t,n,r){var e=t.length,o=r>1?r:2,i=n;i===void 0&&(o>2?i=t.slice():i=new Array(e));for(var a=0;a<e;a+=o)i[a]=180*t[a]/l,i[a+1]=360*Math.atan(Math.exp(t[a+1]/E))/Math.PI-90;return i}var $=globalThis&&globalThis.__extends||function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])},t(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(n,r);function e(){this.constructor=n}n.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}(),j=6378137,y=[-180,-90,180,90],D=Math.PI*j/180,s=function(t){$(n,t);function n(r,e){return t.call(this,{code:r,units:_.DEGREES,extent:y,axisOrientation:e,global:!0,metersPerUnit:D,worldExtent:y})||this}return n}(w),T=[new s("CRS:84"),new s("EPSG:4326","neu"),new s("urn:ogc:def:crs:OGC:1.3:CRS84"),new s("urn:ogc:def:crs:OGC:2:84"),new s("http://www.opengis.net/def/crs/OGC/1.3/CRS84","neu"),new s("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new s("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],P={};function N(t){return P[t]||P[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function W(t,n){P[t]=n}var d={};function v(t,n,r){var e=t.getCode(),o=n.getCode();e in d||(d[e]={}),d[e][o]=r}function b(t,n){var r;return t in d&&n in d[t]&&(r=d[t][n]),r}function L(t,n,r){var e=Math.min.apply(null,t),o=Math.min.apply(null,n),i=Math.max.apply(null,t),a=Math.max.apply(null,n);return q(e,o,i,a,r)}function q(t,n,r,e,o){return o?(o[0]=t,o[1]=n,o[2]=r,o[3]=e,o):[t,n,r,e]}function B(t){return[t[0],t[1]]}function J(t){return[t[2],t[1]]}function V(t){return[t[0],t[3]]}function Y(t){return[t[2],t[3]]}function z(t,n,r,e){var o=[];if(e>1)for(var i=t[2]-t[0],a=t[3]-t[1],u=0;u<e;++u)o.push(t[0]+i*u/e,t[1],t[2],t[1]+a*u/e,t[2]-i*u/e,t[3],t[0],t[3]-a*u/e);else o=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];n(o,o,2);for(var M=[],O=[],u=0,ot=o.length;u<ot;u+=2)M.push(o[u]),O.push(o[u+1]);return L(M,O,r)}function p(t,n,r){var e;if(n!==void 0){for(var o=0,i=t.length;o<i;++o)n[o]=t[o];e=n}else e=t.slice();return e}function H(t,n,r){if(n!==void 0&&t!==n){for(var e=0,o=t.length;e<o;++e)n[e]=t[e];t=n}return t}function Z(t){W(t.getCode(),t),v(t,t,p)}function K(t){t.forEach(Z)}function m(t){return typeof t=="string"?N(t):t||null}function G(t){K(t),t.forEach(function(n){t.forEach(function(r){n!==r&&v(n,r,p)})})}function Q(t,n,r,e){t.forEach(function(o){n.forEach(function(i){v(o,i,r),v(i,o,e)})})}function k(t,n){var r=t.getCode(),e=n.getCode(),o=b(r,e);return o||(o=H),o}function R(t,n){var r=m(t),e=m(n);return k(r,e)}function tt(t,n,r){var e=R(n,r);return e(t,void 0,t.length)}function nt(t,n,r,e){var o=R(n,r);return z(t,o,void 0,e)}function rt(){G(S),G(T),Q(T,S,F,X)}rt();const et=({map:t})=>{const n=t.getView().calculateExtent(t.getSize()),r=nt(n,"EPSG:3857","EPSG:4326"),e=V(r);return[e,B(r),J(r),Y(r),e]};window.farm_regen_digital_map_utils={getCurrentViewExtentCoordinates:et,transform:tt}});
